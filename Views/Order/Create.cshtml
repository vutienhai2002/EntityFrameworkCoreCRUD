<!DOCTYPE html>
<html lang="zxx">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="HVAC Template">
    <meta name="keywords" content="HVAC, unica, creative, html">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>HVAC | Template</title>
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700,200" rel="stylesheet">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <!-- Css Styles -->
    <link href="~/css/bootstrap.minn.css" rel="stylesheet" />
    <link href="~/css/font-awesome.min.css" rel="stylesheet" />
    <link href="~/css/elegant-icons.css" rel="stylesheet" />
    <link href="~/css/nice-select.css" rel="stylesheet" />
    <link href="~/css/magnific-popup.css" rel="stylesheet" />
    <link href="~/css/jquery-ui.min.css" rel="stylesheet" />
    <link href="~/css/owl.carousel.min.css" rel="stylesheet" />
    <link href="~/css/slicknav.min.css" rel="stylesheet" />
    <link href="~/css/style.css" rel="stylesheet" />
</head>

<body>
    <!-- Page Preloder -->
    <div id="preloder">
        <div class="loader"></div>
    </div>

    <!-- Offcanvas Menu Begin -->
    <div class="offcanvas-menu-overlay"></div>
    <div class="offcanvas-menu-wrapper">
        <div class="offcanvas__widget">
            <a href="#" class="search-switch"><i class="fa fa-search"></i></a>
            <a href="/Cart/ListCart" class="primary-btn"> List Cart </a>
        </div>
        <div class="offcanvas__logo">
            <a href="./index.html"><img src="~/image/logo.png" alt=""></a>
        </div>
        <div id="mobile-menu-wrap"></div>
        <ul class="offcanvas__widget__add">
            <li><i class="fa fa-clock-o"></i> Week day: 08:00 am to 18:00 pm</li>
            <li><i class="fa fa-envelope-o"></i> Info.colorlib@gmail.com</li>
        </ul>
        <div class="offcanvas__phone__num">
            <i class="fa fa-phone"></i>
            <span>(+12) 345 678 910</span>
        </div>
        <div class="offcanvas__social">
            <a href="#"><i class="fa fa-facebook"></i></a>
            <a href="#"><i class="fa fa-twitter"></i></a>
            <a href="#"><i class="fa fa-google"></i></a>
            <a href="#"><i class="fa fa-instagram"></i></a>
        </div>
    </div>
    <!-- Offcanvas Menu End -->
    <!-- Header Section Begin -->
    <header class="header">

        <div class="header__top">
            <div class="container">
                <div class="row">
                    <div class="col-lg-7">
                        <ul class="header__top__widget">
                            <li><i class="fa fa-clock-o"></i> Week day: 08:00 am to 18:00 pm</li>
                            <li><i class="fa fa-envelope-o"></i> Vutienhai2002@gmail.com</li>
                        </ul>
                    </div>
                    <div class="col-lg-5">
                        <div class="header__top__right">
                            <div class="header__top__phone">
                                <i class="fa fa-phone"></i>
                                <a href="tel:+12345678910"><span>(+12) 345 678 910</span></a>
                            </div>
                            <div class="header__top__social">
                                <a href="#"><i class="fa fa-facebook"></i></a>
                                <a href="#"><i class="fa fa-twitter"></i></a>
                                @if (Context.Session.GetString("Username") != null)
                                {
                                    <a href="#">Hello, @Context.Session.GetString("Username")!</a>
                                    <a href="/User/Logout">Logout</a>
                                }
                                else
                                {
                                    <a href="/User/Login">Login</a>
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="container">
            <div class="row">
                <div class="col-lg-2">
                    <div class="header__logo">
                        <a href="./index.html"><img src="~/image/logo.png" alt=""></a>
                    </div>
                </div>
                <div class="col-lg-10">
                    <div class="header__nav">
                        <nav class="header__menu">
                            <ul>
                                <li class="active"><a href="/Home/Index">Home</a></li>

                                <li><a href="/Car/viewcar">Cars</a></li>
                                <li><a href="/Blog/Blog">Blog</a></li>
                                <li>
                                    <a href="#">Pages</a>
                                    <ul class="dropdown">
                                        <li><a href="/Pages/About">About Us</a></li>
                                        <li><a href="/Pages/Cardetails">Car Details</a></li>
                                        <li><a href="/Pages/Blogdetails">Blog Details</a></li>
                                    </ul>
                                </li>
                                <li><a href="/Pages/About">About</a></li>
                                <li><a href="/Contact/Contact">Contact</a></li>
                            </ul>
                        </nav>
                        <div class="header__nav__widget">
                            <div class="header__nav__widget__btn">
                                @*                                 <a href="#"><i class="fa fa-cart-plus"></i></a>
                                *@                                <a href="#" class="search-switch"><i class="fa fa-search"></i></a>
                            </div>
                            <a href="/Cart/ListCart" class="primary-btn"> List Cart </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="canvas__open">
                <span class="fa fa-bars"></span>
            </div>
        </div>
    </header>
    <!-- Header Section End -->
    <!-- Breadcrumb End -->
    <div class="breadcrumb-option set-bg" data-setbg="../Image/breadcrumb-bg.jpg">

        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <div class="breadcrumb__text">
                        <h2>Cart List</h2>
                        <div class="breadcrumb__links">
                            <a href="./index.html"><i class="fa fa-home"></i> Home</a>
                            <span>
                                Cart List
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    @if (TempData["ResultOk"] != null)
    {
        <div class="alert alert-success" style="    margin-top: 15px;    margin-left: 1200px;
        ">
            @TempData["ResultOk"]
        </div>
    }
    <div id="cart-items-container" class="container-fluid mt-5">
        <div class="row">
            <div class="col-8">
                <div id="cart-items" class="table-responsive">
                    <!-- Table will be dynamically inserted here -->
                </div>
            </div>
            <div class="col-4">
                <h4>Order Summary</h4>
                <table class="table table-bordered">
                    <tbody>
                        <tr>
                            <td>Total Amount:</td>
                            <td id="total-amount">$0.00</td>
                        </tr>
                    </tbody>
                </table>
                <h4>Place Your Order</h4>
                <form action="/order/ThanhToan" method="post" id="checkout-form">
                    <div class="form-group">
                        <label for="name">Name</label>
                        <input type="text" id="name" name="Name" class="form-control" required>
                    </div>

                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" id="email" name="Email" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="phone">Phone</label>
                        <input type="text" id="phone" name="Phone" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="address">Address</label>
                        <input type="text" id="address" name="Address" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="Messager">Messager</label>
                        <input type="text" id="Messager" name="Messager" class="form-control" required>
                    </div>
                    <button type="submit" class="btn btn-danger" style="margin-top: -25px; margin-left: 215px;">
                        Place Order
                    </button>
                </form>
            </div>
        </div>
    </div>





    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function () {
            // Call AJAX method to get current buyer info
            $.ajax({
                url: '/Buyer/GetCurrentBuyer', // Replace with your actual API endpoint
                type: 'GET',
                success: function (buyer) {
                    if (buyer) {
                        $('#name').val(buyer.name);
                        $('#email').val(buyer.email);
                        $('#phone').val(buyer.phone);
                        $('#address').val(buyer.address);
                    }
                },
                error: function (xhr, status, error) {
                    console.error('An error occurred while fetching buyer info: ', error);
                }
            });
            // Call AJAX method when the page loads
            $.ajax({
                url: '/Cart/GetCartItemsJson', // Path to the API method
                type: 'GET',
                success: function (data) {
                    var cartItemsContainer = $('#cart-items');
                    cartItemsContainer.empty(); // Clear existing content

                    // Check if there are no items in the cart
                    if (data.length === 0) {
                        cartItemsContainer.append('<div class="text-center"><p>Your shopping cart is empty.</p></div>');
                        $('#total-amount').text('0.00 $');
                        return;
                    }

                    // Initialize total amount variable
                    var totalAmount = 0;

                    // Create table and header
                    var tableHtml = `
                            <a href="/cart/xoa" class="btn btn-warning">Delete all</a>
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th>Image</th>
                                        <th>Name</th>
                                        <th>Price</th>
                                        <th>Quantity</th>
                                        <th>Total</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                        `;

                    // Iterate over the cart items and add them to the table rows
                    $.each(data, function (index, item) {
                        var itemTotal = item.price * item.quantity;
                        totalAmount += itemTotal;

                        tableHtml += `
                                <tr>
                                    <td><img src="/${item.img}" class="img-thumbnail" style="max-width: 100px;"></td>
                                    <td>${item.productName}</td>
                                    <td>${item.price.toFixed(2)} $</td>
                                    <td>${item.quantity}</td>
                                    <td>${itemTotal.toFixed(2)} $</td>
                                    <td>
                                        <a href="/cart/DeleteQuantity?id=${item.cartItemId}" class="btn btn-danger">Delete</a>
                                    </td>
                                </tr>
                            `;
                    });

                    // Close table tags
                    tableHtml += `
                                </tbody>
                            </table>
                        `;

                    // Append the table HTML to the container
                    cartItemsContainer.append(tableHtml);

                    // Display the total amount
                    $('#total-amount').text(totalAmount.toFixed(2) + ' $');
                },
                error: function (xhr, status, error) {
                    console.error('An error occurred while loading the shopping cart: ', error);
                }
            });
        });

        // Function to remove item from cart (implement this as needed)
        function removeItemFromCart(itemId) {
            // AJAX call or other logic to remove item from cart
        }
    </script>





    <footer class="footer set-bg" data-setbg="../Image/footer-bg.jpg" ">
        <div class="container">
            <div class="footer__contact">
                <div class="row">
                    <div class="col-lg-6 col-md-6">
                        <div class="footer__contact__title">
                            <h2>Contact Us Now!</h2>
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6">
                        <div class="footer__contact__option">
                            <div class="option__item"><i class="fa fa-phone"></i> (+12) 345 678 910</div>
                            <div class="option__item email"><i class="fa fa-envelope-o"></i> Colorlib@gmail.com</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-4 col-md-4">
                    <div class="footer__about">
                        <div class="footer__logo">
                            <a href="#"><img src="~/image/footer-logo.png" alt=""></a>
                        </div>
                        <p>
                            Any questions? Let us know in store at 625 Gloria Union, California, United Stated or call us
                            on (+1) 96 123 8888
                        </p>
                        <div class="footer__social">
                            <a href="#" class="facebook"><i class="fa fa-facebook"></i></a>
                            <a href="#" class="twitter"><i class="fa fa-twitter"></i></a>
                            <a href="#" class="google"><i class="fa fa-google"></i></a>
                            <a href="#" class="skype"><i class="fa fa-skype"></i></a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-2 offset-lg-1 col-md-3">
                    <div class="footer__widget">
                        <h5>Infomation</h5>
                        <ul>
                            <li><a href="#"><i class="fa fa-angle-right"></i> Purchase</a></li>
                            <li><a href="#"><i class="fa fa-angle-right"></i> Payemnt</a></li>
                            <li><a href="#"><i class="fa fa-angle-right"></i> Shipping</a></li>
                            <li><a href="#"><i class="fa fa-angle-right"></i> Return</a></li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-2 col-md-3">
                    <div class="footer__widget">
                        <h5>Infomation</h5>
                        <ul>
                            <li><a href="#"><i class="fa fa-angle-right"></i> Hatchback</a></li>
                            <li><a href="#"><i class="fa fa-angle-right"></i> Sedan</a></li>
                            <li><a href="#"><i class="fa fa-angle-right"></i> SUV</a></li>
                            <li><a href="#"><i class="fa fa-angle-right"></i> Crossover</a></li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6">
                    <div class="footer__brand">
                        <h5>Maps</h5>
                        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3618.0346767787887!2d105.77835920904023!3d21.030641970303307!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x313454bab8c5e73b%3A0x15f3308da6ba66c4!2zTeG7uSDEkMOsbmggMiwgVOG7qyBMacOqbSwgSMOgIE7hu5lpLCBWaeG7h3QgTmFt!5e0!3m2!1svi!2sus!4v1721270257496!5m2!1svi!2sus" width="400" height="300" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                    </div>
                </div>

            </div>
            <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
            <div class="footer__copyright__text">
                <p>Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="fa fa-heart" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank">Colorlib</a></p>
            </div>
            <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
        </div>
    </footer>
    <!-- Footer Section End -->
    <!-- Search Begin -->
    <div class="search-model">
        <div class="h-100 d-flex align-items-center justify-content-center">
            <div class="search-close-switch">+</div>
            <form class="search-model-form">
                <input type="text" id="search-input" placeholder="Search here.....">
            </form>
        </div>
    </div>
    <!-- Search End -->
    <!-- Js Plugins -->
    <script src="~/js/jquery-3.3.1.min.js"></script>
    <script src="~/js/bootstrap.min.js"></script>
    <script src="~/js/jquery.nice-select.min.js"></script>
    <script src="~/js/jquery-ui.min.js"></script>
    <script src="~/js/jquery.magnific-popup.min.js"></script>
    <script src="~/js/mixitup.min.js"></script>
    <script src="~/js/jquery.slicknav.js"></script>
    <script src="~/js/owl.carousel.min.js"></script>
    <script src="~/js/main.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>


</body>


</html>

<style>
    .cart-item .card-img-top {
        height: 200px;
        object-fit: cover; /* Đảm bảo ảnh không bị biến dạng */
    }

    /* Ensure the container has some margin at the top */
    #cart-items-container {
        margin-top: 3rem;
    }

    /* Style the cart item card */
    .cart-item {
        border: 1px solid #ddd;
        border-radius: 0.25rem;
        box-shadow: 0 0.125rem 0.25rem rgba(0,0,0,0.075);
        transition: box-shadow 0.2s;
    }

        .cart-item:hover {
            box-shadow: 0 0.25rem 0.5rem rgba(0,0,0,0.1);
        }

        .cart-item .card-title {
            font-size: 1.25rem;
            margin-bottom: 0.75rem;
        }

    .card-text {
        font-size: 1rem;
        margin-bottom: 0.5rem;
    }
</style>